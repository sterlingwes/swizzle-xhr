!function(){"use strict";window.swizzleXHR=function({responseTransform:e,urlFilter:t,debug:n}){const o=window.XMLHttpRequest,s=e=>Array.prototype.slice.call(e,0),r=function(){if(!n)return;const e=s(arguments);e.unshift("[swizzle-xhr]"),console.log.apply(console,e)};return function(){let c,i=new o,a={};const l={},u=()=>e&&(!t||t.test(i.responseURL)),f=t=>{const n=this,o=()=>l[t].apply(n,arguments);u()?Promise.resolve(e(n)).then(e=>{a=e,o()}):o()},d={onload:function(){r(c,"loaded"),f("onload")},onreadystatechange:function(){r(c,"readyState="+this.readyState),4===this.readyState&&f("onreadystatechange")}},p=new Proxy(i,{get:function(e,t){return a[t]?a[t]:n&&"open"===t?function(){const n="method="+Object.keys(l).join(","),o=s(arguments);return c=`${o[0]}:${o[1]}`,r("open",n,c),e[t].apply(i,arguments)}:"function"==typeof e[t]?e[t].bind(i):Reflect.get(e,t)},set:function(e,t,n){const o=d[t];return o?(l[t]=n,Reflect.set(e,t,o)):Reflect.set(e,t,n)}});return p}}}();
