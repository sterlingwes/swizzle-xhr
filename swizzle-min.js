!function(){"use strict";window.swizzleXHR=function({responseTransform:n,urlFilter:e}){const t=window.XMLHttpRequest;return function(){let o=this,r=new t,i={};const s=()=>n&&(!e||e.test(r.responseURL));return o.applyLoaded=function(){},o.loadHandler=function(){const e=this,t=()=>o.originalLoadHandler.apply(e,arguments);s()?Promise.resolve(n(e)).then(n=>{i=n,t()}):t()},new Proxy(r,{get:function(n,e,t){return i[e]?i[e]:"function"==typeof n[e]?n[e].bind(r):Reflect.get(n,e)},set:function(n,e,t){return"onload"===e?(o.originalLoadHandler=t,Reflect.set(n,e,o.loadHandler)):Reflect.set(n,e,t)}})}}}();
